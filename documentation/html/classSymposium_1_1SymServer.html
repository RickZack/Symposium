<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Symposium: the collaboration place: Symposium::SymServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Symposium: the collaboration place
   </div>
   <div id="projectbrief">collaborative text editor written in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceSymposium.html">Symposium</a></li><li class="navelem"><a class="el" href="classSymposium_1_1SymServer.html">SymServer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classSymposium_1_1SymServer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Symposium::SymServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a029b60dff9e81ccf236828cfa74f0a24"><td class="memItemLeft" align="right" valign="top"><a id="a029b60dff9e81ccf236828cfa74f0a24"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SymServer</b> (bool loading=true, bool storing=true)</td></tr>
<tr class="separator:a029b60dff9e81ccf236828cfa74f0a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b40518f40884d5a878cf1176216985"><td class="memItemLeft" align="right" valign="top"><a id="a47b40518f40884d5a878cf1176216985"></a>
<a class="el" href="classSymposium_1_1SymServer.html">SymServer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classSymposium_1_1SymServer.html">SymServer</a> &amp;&amp;other)=default</td></tr>
<tr class="separator:a47b40518f40884d5a878cf1176216985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fa667e6dbbf48455174fd41b25260b"><td class="memItemLeft" align="right" valign="top"><a id="a12fa667e6dbbf48455174fd41b25260b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator==</b> (const <a class="el" href="classSymposium_1_1SymServer.html">SymServer</a> &amp;rhs) const</td></tr>
<tr class="separator:a12fa667e6dbbf48455174fd41b25260b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15af73eddb25d03e8e3b238f299ca87"><td class="memItemLeft" align="right" valign="top"><a id="ad15af73eddb25d03e8e3b238f299ca87"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator!=</b> (const <a class="el" href="classSymposium_1_1SymServer.html">SymServer</a> &amp;rhs) const</td></tr>
<tr class="separator:ad15af73eddb25d03e8e3b238f299ca87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e5050d0d8ae9edc037bf1c45684637f"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a3e5050d0d8ae9edc037bf1c45684637f">addUser</a> (<a class="el" href="classSymposium_1_1user.html">user</a> &amp;newUser, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:a3e5050d0d8ae9edc037bf1c45684637f"><td class="mdescLeft">&#160;</td><td class="mdescRight">adds a new user to the set of users registered to the system  <a href="#a3e5050d0d8ae9edc037bf1c45684637f">More...</a><br /></td></tr>
<tr class="separator:a3e5050d0d8ae9edc037bf1c45684637f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd5c2202dfa0f77d42b9753f1ad698c"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#aebd5c2202dfa0f77d42b9753f1ad698c">login</a> (const std::string &amp;username, const std::string &amp;pwd, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:aebd5c2202dfa0f77d42b9753f1ad698c"><td class="mdescLeft">&#160;</td><td class="mdescRight">log in an already registered user, adding it to <em>active</em>  <a href="#aebd5c2202dfa0f77d42b9753f1ad698c">More...</a><br /></td></tr>
<tr class="separator:aebd5c2202dfa0f77d42b9753f1ad698c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accee87b0e8b8e2bb85e1182df1270332"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classSymposium_1_1file.html">file</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#accee87b0e8b8e2bb85e1182df1270332">openSource</a> (const std::string &amp;opener, const std::string &amp;resPath, const std::string &amp;resId, <a class="el" href="namespaceSymposium.html#a2cc267e74e59c3af09626e7106eaafdc">privilege</a> reqPriv, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:accee87b0e8b8e2bb85e1182df1270332"><td class="mdescLeft">&#160;</td><td class="mdescRight">access a document that is already in the user's filesystem  <a href="#accee87b0e8b8e2bb85e1182df1270332">More...</a><br /></td></tr>
<tr class="separator:accee87b0e8b8e2bb85e1182df1270332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a364c8b17c58868129a16d48ba72e6d7e"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classSymposium_1_1file.html">file</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a364c8b17c58868129a16d48ba72e6d7e">openNewSource</a> (const std::string &amp;opener, const std::string &amp;absolutePath, const std::string &amp;destPath, const std::string &amp;destName, <a class="el" href="namespaceSymposium.html#a2cc267e74e59c3af09626e7106eaafdc">privilege</a> reqPriv, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:a364c8b17c58868129a16d48ba72e6d7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">access a user's document via uri to the filesystem of the another user  <a href="#a364c8b17c58868129a16d48ba72e6d7e">More...</a><br /></td></tr>
<tr class="separator:a364c8b17c58868129a16d48ba72e6d7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b3bacd84677e78b2f37e4c6090aa8f"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classSymposium_1_1document.html">document</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a89b3bacd84677e78b2f37e4c6090aa8f">createNewSource</a> (const std::string &amp;opener, const std::string &amp;resPath, const std::string &amp;resName, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:a89b3bacd84677e78b2f37e4c6090aa8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">creates a new file with an empty document inside  <a href="#a89b3bacd84677e78b2f37e4c6090aa8f">More...</a><br /></td></tr>
<tr class="separator:a89b3bacd84677e78b2f37e4c6090aa8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ea5e86ccd7ce2135f59c7a0029ce25"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classSymposium_1_1directory.html">directory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ab6ea5e86ccd7ce2135f59c7a0029ce25">createNewDir</a> (const std::string &amp;opener, const std::string &amp;resPath, const std::string &amp;resName, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:ab6ea5e86ccd7ce2135f59c7a0029ce25"><td class="mdescLeft">&#160;</td><td class="mdescRight">creates a new directory in the user's filesystem  <a href="#ab6ea5e86ccd7ce2135f59c7a0029ce25">More...</a><br /></td></tr>
<tr class="separator:ab6ea5e86ccd7ce2135f59c7a0029ce25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14d51c05b5c40c812843a606e4b136e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#af14d51c05b5c40c812843a606e4b136e">remoteInsert</a> (const std::string &amp;inserter, uint_positive_cnt::type docId, const <a class="el" href="classSymposium_1_1symbolMessage.html">symbolMessage</a> &amp;symMsg)</td></tr>
<tr class="memdesc:af14d51c05b5c40c812843a606e4b136e"><td class="mdescLeft">&#160;</td><td class="mdescRight">update a document with a new symbol from a client  <a href="#af14d51c05b5c40c812843a606e4b136e">More...</a><br /></td></tr>
<tr class="separator:af14d51c05b5c40c812843a606e4b136e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac587c6e89304f3700fe5a4e50112ee2a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ac587c6e89304f3700fe5a4e50112ee2a">remoteRemove</a> (const std::string &amp;remover, uint_positive_cnt::type docId, const <a class="el" href="classSymposium_1_1symbolMessage.html">symbolMessage</a> &amp;rmMsg)</td></tr>
<tr class="memdesc:ac587c6e89304f3700fe5a4e50112ee2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">update a document removing a symbol  <a href="#ac587c6e89304f3700fe5a4e50112ee2a">More...</a><br /></td></tr>
<tr class="separator:ac587c6e89304f3700fe5a4e50112ee2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd5eb79004646b13e68240c28f00354"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a6dd5eb79004646b13e68240c28f00354">updateCursorPos</a> (const std::string &amp;targetUser, uint_positive_cnt::type docId, const <a class="el" href="classSymposium_1_1cursorMessage.html">cursorMessage</a> &amp;crMsg)</td></tr>
<tr class="memdesc:a6dd5eb79004646b13e68240c28f00354"><td class="mdescLeft">&#160;</td><td class="mdescRight">update the current position of user's cursor inside one of the documents he's working on  <a href="#a6dd5eb79004646b13e68240c28f00354">More...</a><br /></td></tr>
<tr class="separator:a6dd5eb79004646b13e68240c28f00354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb31884eea26c85ec3289d04e5b51888"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceSymposium.html#a2cc267e74e59c3af09626e7106eaafdc">privilege</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#acb31884eea26c85ec3289d04e5b51888">editPrivilege</a> (const std::string &amp;actionUser, const std::string &amp;targetUser, const std::string &amp;resPath, const std::string &amp;resId, <a class="el" href="namespaceSymposium.html#a2cc267e74e59c3af09626e7106eaafdc">privilege</a> newPrivilege, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:acb31884eea26c85ec3289d04e5b51888"><td class="mdescLeft">&#160;</td><td class="mdescRight">edit the privilege of <em>targetUser</em> user for the resource <em>resName</em> in <em>resPath</em> to <em>newPrivilege</em>  <a href="#acb31884eea26c85ec3289d04e5b51888">More...</a><br /></td></tr>
<tr class="separator:acb31884eea26c85ec3289d04e5b51888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9cb7728f4c9ecf379e83b9e0ced8973"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classSymposium_1_1filesystem.html">filesystem</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ab9cb7728f4c9ecf379e83b9e0ced8973">shareResource</a> (const std::string &amp;actionUser, const std::string &amp;resPath, const std::string &amp;resId, const <a class="el" href="classSymposium_1_1uri.html">uri</a> &amp;newPrefs, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:ab9cb7728f4c9ecf379e83b9e0ced8973"><td class="mdescLeft">&#160;</td><td class="mdescRight">set new sharing preferences for a resource  <a href="#ab9cb7728f4c9ecf379e83b9e0ced8973">More...</a><br /></td></tr>
<tr class="separator:ab9cb7728f4c9ecf379e83b9e0ced8973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30ca7c106d98996c3be09dd8055734da"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classSymposium_1_1filesystem.html">filesystem</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a30ca7c106d98996c3be09dd8055734da">renameResource</a> (const std::string &amp;renamer, const std::string &amp;resPath, const std::string &amp;resId, const std::string &amp;newName, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:a30ca7c106d98996c3be09dd8055734da"><td class="mdescLeft">&#160;</td><td class="mdescRight">renames a resource from <em>remover</em> 's <em>home</em> directory  <a href="#a30ca7c106d98996c3be09dd8055734da">More...</a><br /></td></tr>
<tr class="separator:a30ca7c106d98996c3be09dd8055734da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8455631e8df430d99f42cf0a3af602b"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classSymposium_1_1filesystem.html">filesystem</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ad8455631e8df430d99f42cf0a3af602b">removeResource</a> (const std::string &amp;remover, const std::string &amp;resPath, const std::string &amp;resId, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:ad8455631e8df430d99f42cf0a3af602b"><td class="mdescLeft">&#160;</td><td class="mdescRight">removes a resource from <em>remover</em> 's <em>home</em> directory  <a href="#ad8455631e8df430d99f42cf0a3af602b">More...</a><br /></td></tr>
<tr class="separator:ad8455631e8df430d99f42cf0a3af602b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e28beea6bd1a226bee07916cd8292f5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a7e28beea6bd1a226bee07916cd8292f5">closeSource</a> (const std::string &amp;actionUser, uint_positive_cnt::type docId, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:a7e28beea6bd1a226bee07916cd8292f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">close a <a class="el" href="classSymposium_1_1document.html">document</a> for a user  <a href="#a7e28beea6bd1a226bee07916cd8292f5">More...</a><br /></td></tr>
<tr class="separator:a7e28beea6bd1a226bee07916cd8292f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f27f12587ca2c7dc7ecab8b641681e"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a48f27f12587ca2c7dc7ecab8b641681e">editUser</a> (const std::string &amp;username, <a class="el" href="classSymposium_1_1user.html">user</a> &amp;newUserData, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:a48f27f12587ca2c7dc7ecab8b641681e"><td class="mdescLeft">&#160;</td><td class="mdescRight">changes user's data  <a href="#a48f27f12587ca2c7dc7ecab8b641681e">More...</a><br /></td></tr>
<tr class="separator:a48f27f12587ca2c7dc7ecab8b641681e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7d64a81c331e6a0541aa4de4f96f42b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ab7d64a81c331e6a0541aa4de4f96f42b">removeUser</a> (const std::string &amp;username, const std::string &amp;pwd, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:ab7d64a81c331e6a0541aa4de4f96f42b"><td class="mdescLeft">&#160;</td><td class="mdescRight">removes an user to the set of users registered to the system  <a href="#ab7d64a81c331e6a0541aa4de4f96f42b">More...</a><br /></td></tr>
<tr class="separator:ab7d64a81c331e6a0541aa4de4f96f42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5fecdedeabfe79795665576a81a730"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a9f5fecdedeabfe79795665576a81a730">logout</a> (const std::string &amp;username, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:a9f5fecdedeabfe79795665576a81a730"><td class="mdescLeft">&#160;</td><td class="mdescRight">performs a log out, removing the user from <em>active</em>  <a href="#a9f5fecdedeabfe79795665576a81a730">More...</a><br /></td></tr>
<tr class="separator:a9f5fecdedeabfe79795665576a81a730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac27ccd58a2f28b6712862f54a54758b0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ac27ccd58a2f28b6712862f54a54758b0">hardLogout</a> (uint_positive_cnt::type siteId)</td></tr>
<tr class="memdesc:ac27ccd58a2f28b6712862f54a54758b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">performs a logout as a result of unexpected detach of a client  <a href="#ac27ccd58a2f28b6712862f54a54758b0">More...</a><br /></td></tr>
<tr class="separator:ac27ccd58a2f28b6712862f54a54758b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7646b4f2ce199b3014d3b076c1fdf306"><td class="memItemLeft" align="right" valign="top">virtual std::map&lt; uint_positive_cnt::type, <a class="el" href="classSymposium_1_1user.html">user</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a7646b4f2ce199b3014d3b076c1fdf306">mapSiteIdToUser</a> (const std::string &amp;actionUser, uint_positive_cnt::type docId, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:a7646b4f2ce199b3014d3b076c1fdf306"><td class="mdescLeft">&#160;</td><td class="mdescRight">maps siteIds to users to allow a client to identify the owner of each change in a document  <a href="#a7646b4f2ce199b3014d3b076c1fdf306">More...</a><br /></td></tr>
<tr class="separator:a7646b4f2ce199b3014d3b076c1fdf306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31d1030cc6c5159379e9274f2ad02692"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a31d1030cc6c5159379e9274f2ad02692">editLineStyle</a> (const std::string &amp;actionUser, uint_positive_cnt::type docId, const std::pair&lt; <a class="el" href="namespaceSymposium.html#a2d75f160129d39dbca4a79665e832d59">alignType</a>, unsigned &gt; &amp;newLineStyle, unsigned row, const <a class="el" href="classSymposium_1_1editLineStyleMessage.html">editLineStyleMessage</a> &amp;editMsg)</td></tr>
<tr class="memdesc:a31d1030cc6c5159379e9274f2ad02692"><td class="mdescLeft">&#160;</td><td class="mdescRight">edit the alignment and/or indexStyle of the document's paragraph <em>row</em> inside one of the documents he's working on  <a href="#a31d1030cc6c5159379e9274f2ad02692">More...</a><br /></td></tr>
<tr class="separator:a31d1030cc6c5159379e9274f2ad02692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd306c365b0564bb5b8a2c0c878a7079"><td class="memItemLeft" align="right" valign="top">std::pair&lt; const uint_positive_cnt::type, std::shared_ptr&lt; <a class="el" href="classSymposium_1_1serverMessage.html">serverMessage</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#abd306c365b0564bb5b8a2c0c878a7079">extractNextMessage</a> ()</td></tr>
<tr class="memdesc:abd306c365b0564bb5b8a2c0c878a7079"><td class="mdescLeft">&#160;</td><td class="mdescRight">extract a message from the message queue associated with an user  <a href="#abd306c365b0564bb5b8a2c0c878a7079">More...</a><br /></td></tr>
<tr class="separator:abd306c365b0564bb5b8a2c0c878a7079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe91d53cff762d3a57d1845975a7795e"><td class="memItemLeft" align="right" valign="top">uint_positive_cnt::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#afe91d53cff762d3a57d1845975a7795e">getSiteIdOfUser</a> (const std::string &amp;username) const</td></tr>
<tr class="memdesc:afe91d53cff762d3a57d1845975a7795e"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve the site id of an user  <a href="#afe91d53cff762d3a57d1845975a7795e">More...</a><br /></td></tr>
<tr class="separator:afe91d53cff762d3a57d1845975a7795e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ebc0d588c54b56c91698fc31159965"><td class="memItemLeft" align="right" valign="top"><a id="a75ebc0d588c54b56c91698fc31159965"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a75ebc0d588c54b56c91698fc31159965">store</a> () const</td></tr>
<tr class="memdesc:a75ebc0d588c54b56c91698fc31159965"><td class="mdescLeft">&#160;</td><td class="mdescRight">store the server data (users registered and filesystem structure) onto the disk <br /></td></tr>
<tr class="separator:a75ebc0d588c54b56c91698fc31159965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62cb683970d113a87c2127ea6796ba32"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a62cb683970d113a87c2127ea6796ba32">load</a> ()</td></tr>
<tr class="memdesc:a62cb683970d113a87c2127ea6796ba32"><td class="mdescLeft">&#160;</td><td class="mdescRight">load data (users registered and filesystem structure) from disk  <a href="#a62cb683970d113a87c2127ea6796ba32">More...</a><br /></td></tr>
<tr class="separator:a62cb683970d113a87c2127ea6796ba32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4326c0c7f9d0c326f4bb0702f9bf1d2"><td class="memItemLeft" align="right" valign="top"><a id="ad4326c0c7f9d0c326f4bb0702f9bf1d2"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ad4326c0c7f9d0c326f4bb0702f9bf1d2">~SymServer</a> ()</td></tr>
<tr class="memdesc:ad4326c0c7f9d0c326f4bb0702f9bf1d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">performs storing operations of the data of the whole system <br /></td></tr>
<tr class="separator:ad4326c0c7f9d0c326f4bb0702f9bf1d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a811b3865712f8dec9aa80aa3fa740817"><td class="memItemLeft" align="right" valign="top"><a id="a811b3865712f8dec9aa80aa3fa740817"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>loadData</b></td></tr>
<tr class="separator:a811b3865712f8dec9aa80aa3fa740817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9f5837c3d32b15133f9db58f1bf3f3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a0b9f5837c3d32b15133f9db58f1bf3f3">storeData</a></td></tr>
<tr class="separator:a0b9f5837c3d32b15133f9db58f1bf3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:af65683a092ba28aa1d73cb17feced34d"><td class="memItemLeft" align="right" valign="top"><a id="af65683a092ba28aa1d73cb17feced34d"></a>
static const <a class="el" href="classSymposium_1_1user.html">user</a>&#160;</td><td class="memItemRight" valign="bottom"><b>unknownUser</b></td></tr>
<tr class="separator:af65683a092ba28aa1d73cb17feced34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c920449bdeb3ae827e29ed15fbf1abe"><td class="memItemLeft" align="right" valign="top">static constexpr char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a0c920449bdeb3ae827e29ed15fbf1abe">storeFile</a> [] =&quot;./serverData.dat&quot;</td></tr>
<tr class="separator:a0c920449bdeb3ae827e29ed15fbf1abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4df2b24419bf4bbad144b02ebeabed54"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a4df2b24419bf4bbad144b02ebeabed54">registerUser</a> (const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;toInsert)</td></tr>
<tr class="memdesc:a4df2b24419bf4bbad144b02ebeabed54"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert a new user in the table of registered users  <a href="#a4df2b24419bf4bbad144b02ebeabed54">More...</a><br /></td></tr>
<tr class="separator:a4df2b24419bf4bbad144b02ebeabed54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b66413762b82ca6df6a757a415e6547"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a2b66413762b82ca6df6a757a415e6547">getRegistered</a> (const std::string &amp;username)</td></tr>
<tr class="memdesc:a2b66413762b82ca6df6a757a415e6547"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the registered user associated with <em>username</em>  <a href="#a2b66413762b82ca6df6a757a415e6547">More...</a><br /></td></tr>
<tr class="separator:a2b66413762b82ca6df6a757a415e6547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1574f1cf99f9bb21329194c4d186bb3"><td class="memItemLeft" align="right" valign="top"><a id="ab1574f1cf99f9bb21329194c4d186bb3"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>removeRegistered</b> (const std::string &amp;username)</td></tr>
<tr class="separator:ab1574f1cf99f9bb21329194c4d186bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b074bd9c25d4f9823294c1a5f494f2"><td class="memItemLeft" align="right" valign="top"><a id="a71b074bd9c25d4f9823294c1a5f494f2"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>userIsRegistered</b> (const std::string &amp;toCheck) const noexcept</td></tr>
<tr class="separator:a71b074bd9c25d4f9823294c1a5f494f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ebed4fe9efe0b9c35cd8a8e618249de"><td class="memItemLeft" align="right" valign="top"><a id="a8ebed4fe9efe0b9c35cd8a8e618249de"></a>
virtual const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>findUserBySiteId</b> (int id) const noexcept</td></tr>
<tr class="separator:a8ebed4fe9efe0b9c35cd8a8e618249de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e2a961795f3697f25cdaffeb7695af"><td class="memItemLeft" align="right" valign="top"><a id="a93e2a961795f3697f25cdaffeb7695af"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>userIsActive</b> (const std::string &amp;username) const</td></tr>
<tr class="separator:a93e2a961795f3697f25cdaffeb7695af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa93ded55e44c32970b5eab155e82659a"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, <a class="el" href="classSymposium_1_1user.html">user</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#aa93ded55e44c32970b5eab155e82659a">registered</a></td></tr>
<tr class="separator:aa93ded55e44c32970b5eab155e82659a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a757e0d825c66a6149996e3de65711419"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, const <a class="el" href="classSymposium_1_1user.html">user</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a757e0d825c66a6149996e3de65711419">active</a></td></tr>
<tr class="separator:a757e0d825c66a6149996e3de65711419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09e6e01b76b28a314ef4bb33d84c3a83"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, std::forward_list&lt; <a class="el" href="classSymposium_1_1document.html">document</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a09e6e01b76b28a314ef4bb33d84c3a83">workingDoc</a></td></tr>
<tr class="separator:a09e6e01b76b28a314ef4bb33d84c3a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae90895ed8a86be8e9732c14b142db014"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint_positive_cnt::type, std::queue&lt; std::shared_ptr&lt; <a class="el" href="classSymposium_1_1serverMessage.html">serverMessage</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ae90895ed8a86be8e9732c14b142db014">siteIdToMex</a></td></tr>
<tr class="separator:ae90895ed8a86be8e9732c14b142db014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc33b7d53a13f26eebed2a50806e1d6c"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint_positive_cnt::type, std::forward_list&lt; uint_positive_cnt::type &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#afc33b7d53a13f26eebed2a50806e1d6c">resIdToSiteId</a></td></tr>
<tr class="separator:afc33b7d53a13f26eebed2a50806e1d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67329d7cfaaa9f04ba417f1155d5aedb"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classSymposium_1_1directory.html">directory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a67329d7cfaaa9f04ba417f1155d5aedb">rootDir</a></td></tr>
<tr class="separator:a67329d7cfaaa9f04ba417f1155d5aedb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:ae38647b6c3828fe36835de120a984e33"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structpositive__cnt.html">uint_positive_cnt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ae38647b6c3828fe36835de120a984e33">idCounter</a></td></tr>
<tr class="separator:ae38647b6c3828fe36835de120a984e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a785e57026f197742184313dc82100016"><td class="memTemplParams" colspan="2"><a id="a785e57026f197742184313dc82100016"></a>
template&lt;class Archive &gt; </td></tr>
<tr class="memitem:a785e57026f197742184313dc82100016"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>serialize</b> (Archive &amp;ar, unsigned int)</td></tr>
<tr class="separator:a785e57026f197742184313dc82100016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a572b0c5b9063fbf88a5d392b8a3419f4"><td class="memItemLeft" align="right" valign="top">std::pair&lt; bool, <a class="el" href="classSymposium_1_1document.html">document</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a572b0c5b9063fbf88a5d392b8a3419f4">userIsWorkingOnDocument</a> (const std::string &amp;username, uint_positive_cnt::type resourceId) const</td></tr>
<tr class="memdesc:a572b0c5b9063fbf88a5d392b8a3419f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">searches in the <em>workingDoc</em> map for the document that has the given <em>resourceId</em>  <a href="#a572b0c5b9063fbf88a5d392b8a3419f4">More...</a><br /></td></tr>
<tr class="separator:a572b0c5b9063fbf88a5d392b8a3419f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbed7555069256fbfb98fee4d78cca52"><td class="memItemLeft" align="right" valign="top">uint_positive_cnt::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#afbed7555069256fbfb98fee4d78cca52">handleAccessToDoc</a> (const std::string &amp;actionUser, const std::string &amp;resName, const std::string &amp;pathFromUserHome, const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;actionU)</td></tr>
<tr class="memdesc:afbed7555069256fbfb98fee4d78cca52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the access of <em>actionUser</em> to the document to change the privileges of a target user.  <a href="#afbed7555069256fbfb98fee4d78cca52">More...</a><br /></td></tr>
<tr class="separator:afbed7555069256fbfb98fee4d78cca52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705d5f8160eefd23a7ada2b454af98bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a705d5f8160eefd23a7ada2b454af98bd">handleUserState</a> (const std::string &amp;targetUser, uint_positive_cnt::type docId, bool working=true)</td></tr>
<tr class="memdesc:a705d5f8160eefd23a7ada2b454af98bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles control on the state of <em>targetUser</em>, to impose that it should or should not work on the resource.  <a href="#a705d5f8160eefd23a7ada2b454af98bd">More...</a><br /></td></tr>
<tr class="separator:a705d5f8160eefd23a7ada2b454af98bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c04ffbd3a6c1324df717c4187a0172"><td class="memItemLeft" align="right" valign="top">std::forward_list&lt; uint_positive_cnt::type &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ac3c04ffbd3a6c1324df717c4187a0172">siteIdsFor</a> (uint_positive_cnt::type resId, uint_positive_cnt::type siteIdToExclude=0) const</td></tr>
<tr class="memdesc:ac3c04ffbd3a6c1324df717c4187a0172"><td class="mdescLeft">&#160;</td><td class="mdescRight">extract the siteIds associated to the given <em>resId</em>, excluding <em>siteIdToExclude</em> from the result  <a href="#ac3c04ffbd3a6c1324df717c4187a0172">More...</a><br /></td></tr>
<tr class="separator:ac3c04ffbd3a6c1324df717c4187a0172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a205c68735a4d1bf2fc4226dab20747cc"><td class="memItemLeft" align="right" valign="top">std::forward_list&lt; uint_positive_cnt::type &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a205c68735a4d1bf2fc4226dab20747cc">resIdOfDocOfUser</a> (const std::string &amp;username) const</td></tr>
<tr class="memdesc:a205c68735a4d1bf2fc4226dab20747cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">extract the resIds of the documents associated with the user names <em>username</em>  <a href="#a205c68735a4d1bf2fc4226dab20747cc">More...</a><br /></td></tr>
<tr class="separator:a205c68735a4d1bf2fc4226dab20747cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22eb00daeeef6739434357d121b30b53"><td class="memItemLeft" align="right" valign="top">std::forward_list&lt; uint_positive_cnt::type &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a22eb00daeeef6739434357d121b30b53">siteIdOfUserOfDoc</a> (const std::forward_list&lt; uint_positive_cnt::type &gt; &amp;resIds, unsigned int siteIdToExclude=-1) const</td></tr>
<tr class="memdesc:a22eb00daeeef6739434357d121b30b53"><td class="mdescLeft">&#160;</td><td class="mdescRight">extract the siteIds of the users that are associated with at least one of resIds in <em>resIds</em>  <a href="#a22eb00daeeef6739434357d121b30b53">More...</a><br /></td></tr>
<tr class="separator:a22eb00daeeef6739434357d121b30b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae626c9a82e167f516868d4acbf2aa4f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#ae626c9a82e167f516868d4acbf2aa4f5">insertMessageForSiteIds</a> (const std::forward_list&lt; uint_positive_cnt::type &gt; &amp;siteIds, const std::shared_ptr&lt; <a class="el" href="classSymposium_1_1serverMessage.html">serverMessage</a> &gt; &amp;toSend)</td></tr>
<tr class="memdesc:ae626c9a82e167f516868d4acbf2aa4f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a copy of the message <em>toSend</em> in the message queue associated with every siteIds in <em>siteIds</em>.  <a href="#ae626c9a82e167f516868d4acbf2aa4f5">More...</a><br /></td></tr>
<tr class="separator:ae626c9a82e167f516868d4acbf2aa4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af787b57368e7eaba7b2e123ce1bd8636"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#af787b57368e7eaba7b2e123ce1bd8636">closeAllDocsAndPropagateMex</a> (const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;loggedOut, const std::forward_list&lt; <a class="el" href="classSymposium_1_1document.html">document</a> * &gt; &amp;listOfDocs, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:af787b57368e7eaba7b2e123ce1bd8636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call <a class="el" href="classSymposium_1_1document.html#aae880029c63d996d4e37f3c0b3c4fbd1" title="removes the user noLongerActive from activeUsers">document::close</a> on all the documents left opened by the user that just logged out and propagate the message about the disjoin of the user on that documents.  <a href="#af787b57368e7eaba7b2e123ce1bd8636">More...</a><br /></td></tr>
<tr class="separator:af787b57368e7eaba7b2e123ce1bd8636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acff8defd3d990f0dd5ad4ab4aeac973b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#acff8defd3d990f0dd5ad4ab4aeac973b">handleLeavingUser</a> (const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;loggedOut)</td></tr>
<tr class="memdesc:acff8defd3d990f0dd5ad4ab4aeac973b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the siteId of the user that just logged out from the list of siteIds associated with every resource that the user left opened.  <a href="#acff8defd3d990f0dd5ad4ab4aeac973b">More...</a><br /></td></tr>
<tr class="separator:acff8defd3d990f0dd5ad4ab4aeac973b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc0458b84cc58b14b7fee9633235df1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a4cc0458b84cc58b14b7fee9633235df1">generateSimpleResponse</a> (unsigned int recvSiteId, <a class="el" href="namespaceSymposium.html#ad82e71f528ced5699a51d743a10b07ad">msgType</a> action, uint_positive_cnt::type respMsgId)</td></tr>
<tr class="memdesc:a4cc0458b84cc58b14b7fee9633235df1"><td class="mdescLeft">&#160;</td><td class="mdescRight">generate a simple response with msgOutcome::success for a client request  <a href="#a4cc0458b84cc58b14b7fee9633235df1">More...</a><br /></td></tr>
<tr class="separator:a4cc0458b84cc58b14b7fee9633235df1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a0ae80940927255062e697ab2dc0c34e1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a0ae80940927255062e697ab2dc0c34e1">userIsValid</a> (const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;toCheck) noexcept</td></tr>
<tr class="memdesc:a0ae80940927255062e697ab2dc0c34e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks that part of user's data that matters for the server  <a href="#a0ae80940927255062e697ab2dc0c34e1">More...</a><br /></td></tr>
<tr class="separator:a0ae80940927255062e697ab2dc0c34e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8a036c6a82c899490e3d507b40a846"><td class="memItemLeft" align="right" valign="top">static std::pair&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSymposium_1_1SymServer.html#a2d8a036c6a82c899490e3d507b40a846">fromLocalPathToGlobal</a> (const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;actionU, const std::string &amp;resPath, const std::string &amp;resId)</td></tr>
<tr class="memdesc:a2d8a036c6a82c899490e3d507b40a846"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieves the absolute path of a resource  <a href="#a2d8a036c6a82c899490e3d507b40a846">More...</a><br /></td></tr>
<tr class="separator:a2d8a036c6a82c899490e3d507b40a846"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ac98d07dd8f7b70e16ccb9a01abf56b9c"><td class="memItemLeft" align="right" valign="top"><a id="ac98d07dd8f7b70e16ccb9a01abf56b9c"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>boost::serialization::access</b></td></tr>
<tr class="separator:ac98d07dd8f7b70e16ccb9a01abf56b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3e5050d0d8ae9edc037bf1c45684637f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e5050d0d8ae9edc037bf1c45684637f">&#9670;&nbsp;</a></span>addUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSymposium_1_1user.html">user</a> &amp; SymServer::addUser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td>
          <td class="paramname"><em>newUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>adds a new user to the set of users registered to the system </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newUser</td><td>the user to be added to the system </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the user just added </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1SymServerException.html" title="models an exception occurred in the context of SymServer class @exceptsafe no-throw">SymServerException</a></td><td>thrown if newUser is already registered </td></tr>
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1SymServerException.html" title="models an exception occurred in the context of SymServer class @exceptsafe no-throw">SymServerException</a></td><td>thrown if newUser data is not correct</td></tr>
  </table>
  </dd>
</dl>
<p>When a client asks for the registration of a new user via a <a class="el" href="classSymposium_1_1signUpMessage.html">signUpMessage</a>, the server validates the user data received (a <a class="el" href="classSymposium_1_1signUpMessage.html">signUpMessage</a> contains a whole new user), assignes to it a subdirectory inside <em>rootDir</em>, adds the user to <em>registered</em> and send back to the client the user structure just filled inside a <a class="el" href="classSymposium_1_1loginMessage.html">loginMessage</a>. Note that the <em>siteId</em> of the user is assigned by the server, as the user's <em>home</em> directory structure and the <em>hashSalt</em> (that mustn't be sent to the client inside the <a class="el" href="classSymposium_1_1loginMessage.html">loginMessage</a>), so the user filled client side is always incomplete. </p>

</div>
</div>
<a id="af787b57368e7eaba7b2e123ce1bd8636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af787b57368e7eaba7b2e123ce1bd8636">&#9670;&nbsp;</a></span>closeAllDocsAndPropagateMex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::closeAllDocsAndPropagateMex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td>
          <td class="paramname"><em>loggedOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::forward_list&lt; <a class="el" href="classSymposium_1_1document.html">document</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>listOfDocs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call <a class="el" href="classSymposium_1_1document.html#aae880029c63d996d4e37f3c0b3c4fbd1" title="removes the user noLongerActive from activeUsers">document::close</a> on all the documents left opened by the user that just logged out and propagate the message about the disjoin of the user on that documents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loggedOut</td><td>the user that just logged out </td></tr>
    <tr><td class="paramname">listOfDocs</td><td>the user of docs the user was working on </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7e28beea6bd1a226bee07916cd8292f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e28beea6bd1a226bee07916cd8292f5">&#9670;&nbsp;</a></span>closeSource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::closeSource </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>actionUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>docId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>close a <a class="el" href="classSymposium_1_1document.html">document</a> for a user </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actionUser</td><td>the user who wants to close the document </td></tr>
    <tr><td class="paramname">docId</td><td>document's id to be closed</td></tr>
  </table>
  </dd>
</dl>
<p>This method is invoked by receiving a <a class="el" href="classSymposium_1_1updateDocMessage.html">updateDocMessage</a> and has the effect of calling <a class="el" href="classSymposium_1_1document.html#aae880029c63d996d4e37f3c0b3c4fbd1">document::close</a> and the removal of <em>actionUser</em> from <em>workingDoc</em> for <em>toClose</em> </p>

</div>
</div>
<a id="ab6ea5e86ccd7ce2135f59c7a0029ce25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6ea5e86ccd7ce2135f59c7a0029ce25">&#9670;&nbsp;</a></span>createNewDir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classSymposium_1_1directory.html">directory</a> &gt; SymServer::createNewDir </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>opener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>creates a new directory in the user's filesystem </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opener</td><td>the user who made the request </td></tr>
    <tr><td class="paramname">resPath</td><td>the relative path to the <em>opener</em> 's <em>home</em> directory where to create the directory </td></tr>
    <tr><td class="paramname">resName</td><td>the name of the new directory </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the directory just created </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1SymServerException.html" title="models an exception occurred in the context of SymServer class @exceptsafe no-throw">SymServerException</a></td><td>thrown if the user opener is not logged in </td></tr>
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1filesystemException.html">filesystemException</a></td><td>rethrown if there are problems creating the resource</td></tr>
  </table>
  </dd>
</dl>
<p>When a client asks for a new directory, the server tries to do it and send back to the client a <a class="el" href="classSymposium_1_1sendResMessage.html">sendResMessage</a> containing the directory just added to <em>path</em>. </p>

</div>
</div>
<a id="a89b3bacd84677e78b2f37e4c6090aa8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89b3bacd84677e78b2f37e4c6090aa8f">&#9670;&nbsp;</a></span>createNewSource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSymposium_1_1document.html">document</a> &amp; SymServer::createNewSource </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>opener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>creates a new file with an empty document inside </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opener</td><td>the user who made the request </td></tr>
    <tr><td class="paramname">resPath</td><td>the relative path to the <em>opener</em> 's <em>home</em> directory where to create the file </td></tr>
    <tr><td class="paramname">resName</td><td>the name of the new file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the document just created </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1SymServerException.html" title="models an exception occurred in the context of SymServer class @exceptsafe no-throw">SymServerException</a></td><td>thrown if the user opener is not logged in </td></tr>
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1filesystemException.html">filesystemException</a></td><td>rethrown if there are problems creating the resource</td></tr>
  </table>
  </dd>
</dl>
<p>When a client asks for a new directory, the server tries to do it and send back to the client a <a class="el" href="classSymposium_1_1sendResMessage.html">sendResMessage</a> containing the resource just added to <em>path</em>. </p>

</div>
</div>
<a id="a31d1030cc6c5159379e9274f2ad02692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31d1030cc6c5159379e9274f2ad02692">&#9670;&nbsp;</a></span>editLineStyle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::editLineStyle </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>actionUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>docId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::pair&lt; <a class="el" href="namespaceSymposium.html#a2d75f160129d39dbca4a79665e832d59">alignType</a>, unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>newLineStyle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1editLineStyleMessage.html">editLineStyleMessage</a> &amp;&#160;</td>
          <td class="paramname"><em>editMsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>edit the alignment and/or indexStyle of the document's paragraph <em>row</em> inside one of the documents he's working on </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">docId</td><td>the identifier of the document whose paragraph has to be edited </td></tr>
    <tr><td class="paramname">newLineStyle</td><td>new alignment and indexStyle to apply </td></tr>
    <tr><td class="paramname">row</td><td>the row to apply <em>newLineStyle</em> to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acb31884eea26c85ec3289d04e5b51888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb31884eea26c85ec3289d04e5b51888">&#9670;&nbsp;</a></span>editPrivilege()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceSymposium.html#a2cc267e74e59c3af09626e7106eaafdc">privilege</a> SymServer::editPrivilege </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>actionUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>targetUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceSymposium.html#a2cc267e74e59c3af09626e7106eaafdc">privilege</a>&#160;</td>
          <td class="paramname"><em>newPrivilege</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>edit the privilege of <em>targetUser</em> user for the resource <em>resName</em> in <em>resPath</em> to <em>newPrivilege</em> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actionUser</td><td>the user who made the request </td></tr>
    <tr><td class="paramname">targetUser</td><td>the user whose privilege has to be modified </td></tr>
    <tr><td class="paramname">resPath</td><td>the relative path to the <em>actionUser</em> 's <em>home</em> directory </td></tr>
    <tr><td class="paramname">resId</td><td>the id of the resource </td></tr>
    <tr><td class="paramname">newPrivilege</td><td>the new privilege to be granted to <em>targetUser</em> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the old privilege of <em>targetUser</em> had on the resource</dd></dl>
<p>When a user client side want to edit the privilege of another user on a resource, it sends a PrivMessage and waits for an answer from the server. The server checks that <em>actionUser</em> is in <em>registered</em> and in <em>active</em>, and that <em>targetUser</em> is in <em>registered</em> and is not working on the resource in <em>resPath</em> named <em>resName</em>. Calls <a class="el" href="classSymposium_1_1user.html#a5eed0c2a9123823687399a6101b102cd">user::openFile</a> to get the document and then calls <a class="el" href="classSymposium_1_1user.html#abc48d619814ff73855233c095a4e4e86">user::editPrivilege</a> on <em>actionUser</em> At the end send a <a class="el" href="classSymposium_1_1serverMessage.html">serverMessage</a> with the action outcome </p>

</div>
</div>
<a id="a48f27f12587ca2c7dc7ecab8b641681e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48f27f12587ca2c7dc7ecab8b641681e">&#9670;&nbsp;</a></span>editUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSymposium_1_1user.html">user</a> &amp; SymServer::editUser </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td>
          <td class="paramname"><em>newUserData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>changes user's data </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>the username of the user whose data are to be changed </td></tr>
    <tr><td class="paramname">newUserData</td><td>a user object filled with new data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new user data</dd></dl>
<p>The server validates the new data and changes the user in <em>registered</em> and in <em>active</em> and sends back to the client a <a class="el" href="classSymposium_1_1serverMessage.html">serverMessage</a> with the outcome. The server must send a <a class="el" href="classSymposium_1_1userDataMessage.html">userDataMessage</a> to the users in <em>active</em> that share some files with the user identified by <em>username</em> if the user changed the nickname or the icon </p>

</div>
</div>
<a id="abd306c365b0564bb5b8a2c0c878a7079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd306c365b0564bb5b8a2c0c878a7079">&#9670;&nbsp;</a></span>extractNextMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; const uint_positive_cnt::type, std::shared_ptr&lt; <a class="el" href="classSymposium_1_1serverMessage.html">serverMessage</a> &gt; &gt; SymServer::extractNextMessage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>extract a message from the message queue associated with an user </p>
<dl class="section return"><dt>Returns</dt><dd>a pair containing the siteId of the user the message is to send to and the message itself </dd></dl>

</div>
</div>
<a id="a2d8a036c6a82c899490e3d507b40a846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d8a036c6a82c899490e3d507b40a846">&#9670;&nbsp;</a></span>fromLocalPathToGlobal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::string, std::string &gt; SymServer::fromLocalPathToGlobal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td>
          <td class="paramname"><em>actionU</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>retrieves the absolute path of a resource </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actionU</td><td>the user who has the resource pointed by <em>resPath</em> and <em>resId</em> </td></tr>
    <tr><td class="paramname">resPath</td><td>the path of the resource relative to <em>actionU's</em> filesystem </td></tr>
    <tr><td class="paramname">resId</td><td>the id of the resource </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pair containing the absolute path and the id of the resource </dd></dl>

</div>
</div>
<a id="a4cc0458b84cc58b14b7fee9633235df1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cc0458b84cc58b14b7fee9633235df1">&#9670;&nbsp;</a></span>generateSimpleResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::generateSimpleResponse </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>recvSiteId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceSymposium.html#ad82e71f528ced5699a51d743a10b07ad">msgType</a>&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>generate a simple response with msgOutcome::success for a client request </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">recvSiteId</td><td>the siteId of the client to send the confirm to </td></tr>
    <tr><td class="paramname">action</td><td>the msgType of the received <a class="el" href="classSymposium_1_1clientMessage.html" title="class used to model a message sent by a client">clientMessage</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2b66413762b82ca6df6a757a415e6547"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b66413762b82ca6df6a757a415e6547">&#9670;&nbsp;</a></span>getRegistered()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSymposium_1_1user.html">user</a> &amp; SymServer::getRegistered </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return the registered user associated with <em>username</em> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>the username of the registered user </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reference to the user </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>before a call to this method, the user with <em>username</em> must exist in server memory, otherwise an exception is thrown </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::out_of_range</td><td>can be thrown if the method is called without previously verifying that the user is registered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afe91d53cff762d3a57d1845975a7795e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe91d53cff762d3a57d1845975a7795e">&#9670;&nbsp;</a></span>getSiteIdOfUser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint_positive_cnt::type SymServer::getSiteIdOfUser </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>username</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>retrieve the site id of an user </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>the username of the user whose id is to be retrieved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the site id of that user </dd></dl>

</div>
</div>
<a id="afbed7555069256fbfb98fee4d78cca52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbed7555069256fbfb98fee4d78cca52">&#9670;&nbsp;</a></span>handleAccessToDoc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint_positive_cnt::type SymServer::handleAccessToDoc </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>actionUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>pathFromUserHome</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td>
          <td class="paramname"><em>actionU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the access of <em>actionUser</em> to the document to change the privileges of a target user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actionUser</td><td>the name of the user who is changing the privileges of the target user </td></tr>
    <tr><td class="paramname">resName</td><td>the resource name </td></tr>
    <tr><td class="paramname">pathFromUserHome</td><td>the resource path, stating form <em>actionUser's</em> home directory </td></tr>
    <tr><td class="paramname">actionU</td><td>the user who is changing the privileges of the target user </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the resId of the document involved in the privilege change </dd></dl>

</div>
</div>
<a id="acff8defd3d990f0dd5ad4ab4aeac973b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acff8defd3d990f0dd5ad4ab4aeac973b">&#9670;&nbsp;</a></span>handleLeavingUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::handleLeavingUser </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td>
          <td class="paramname"><em>loggedOut</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the siteId of the user that just logged out from the list of siteIds associated with every resource that the user left opened. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loggedOut</td><td>the user that just logged out </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a705d5f8160eefd23a7ada2b454af98bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a705d5f8160eefd23a7ada2b454af98bd">&#9670;&nbsp;</a></span>handleUserState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::handleUserState </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>targetUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>docId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>working</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles control on the state of <em>targetUser</em>, to impose that it should or should not work on the resource. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetUser</td><td>the user whose state is to be controlled </td></tr>
    <tr><td class="paramname">docId</td><td>the resource for which the working state of the user should be controlled </td></tr>
    <tr><td class="paramname">working</td><td>indicates whether an exception is to be raised if the user work or do not work on the resource </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1SymServerException.html" title="models an exception occurred in the context of SymServer class @exceptsafe no-throw">SymServerException</a></td><td>thrown if <em>targetUser</em> has state <em>working</em> on resource <em>docId</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac27ccd58a2f28b6712862f54a54758b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac27ccd58a2f28b6712862f54a54758b0">&#9670;&nbsp;</a></span>hardLogout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::hardLogout </td>
          <td>(</td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>siteId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>performs a logout as a result of unexpected detach of a client </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">siteId</td><td>the siteId of the detached user </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae626c9a82e167f516868d4acbf2aa4f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae626c9a82e167f516868d4acbf2aa4f5">&#9670;&nbsp;</a></span>insertMessageForSiteIds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::insertMessageForSiteIds </td>
          <td>(</td>
          <td class="paramtype">const std::forward_list&lt; uint_positive_cnt::type &gt; &amp;&#160;</td>
          <td class="paramname"><em>siteIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classSymposium_1_1serverMessage.html">serverMessage</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>toSend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert a copy of the message <em>toSend</em> in the message queue associated with every siteIds in <em>siteIds</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">siteIds</td><td>the list of user (by means of their siteId) the message <em>toSend</em> should be forwarded to </td></tr>
    <tr><td class="paramname">toSend</td><td>the message to send to every user that has siteId in <em>siteIds</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62cb683970d113a87c2127ea6796ba32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62cb683970d113a87c2127ea6796ba32">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SymServer::load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>load data (users registered and filesystem structure) from disk </p>
<dl class="section return"><dt>Returns</dt><dd>true if data has been found and correctly loaded, false otherwise </dd></dl>

</div>
</div>
<a id="aebd5c2202dfa0f77d42b9753f1ad698c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd5c2202dfa0f77d42b9753f1ad698c">&#9670;&nbsp;</a></span>login()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSymposium_1_1user.html">user</a> &amp; SymServer::login </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>pwd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>log in an already registered user, adding it to <em>active</em> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>the username of the user who is performing the log in </td></tr>
    <tr><td class="paramname">pwd</td><td>the user's password </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the logged in user </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1SymServerException.html" title="models an exception occurred in the context of SymServer class @exceptsafe no-throw">SymServerException</a></td><td>thrown if the user with username is not registered </td></tr>
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1SymServerException.html" title="models an exception occurred in the context of SymServer class @exceptsafe no-throw">SymServerException</a></td><td>thrown if the pwd is wrong </td></tr>
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1SymServerException.html" title="models an exception occurred in the context of SymServer class @exceptsafe no-throw">SymServerException</a></td><td>thrown if the user with username is already logged in</td></tr>
  </table>
  </dd>
</dl>
<p>When a client asks for the login via a <a class="el" href="classSymposium_1_1clientMessage.html">clientMessage</a>, the server checks that the <em>username</em> and <em>password</em> corresponds to a user contained in <em>registered</em>, then sends the retrieved user object to the client, after having darken the <em>password</em> and the <em>hashSalt</em>, via a <a class="el" href="classSymposium_1_1loginMessage.html">loginMessage</a> </p>

</div>
</div>
<a id="a9f5fecdedeabfe79795665576a81a730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f5fecdedeabfe79795665576a81a730">&#9670;&nbsp;</a></span>logout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::logout </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>performs a log out, removing the user from <em>active</em> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>the username of the user who is performing the log out </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the logged out user </dd></dl>

</div>
</div>
<a id="a7646b4f2ce199b3014d3b076c1fdf306"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7646b4f2ce199b3014d3b076c1fdf306">&#9670;&nbsp;</a></span>mapSiteIdToUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; uint_positive_cnt::type, <a class="el" href="classSymposium_1_1user.html">user</a> &gt; SymServer::mapSiteIdToUser </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>actionUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>docId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>maps siteIds to users to allow a client to identify the owner of each change in a document </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actionUser</td><td>the user who is asking for the mapping </td></tr>
    <tr><td class="paramname">docId</td><td>the id of the document for which the client asked for the mapping </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the mapping siteId-&gt;user</dd></dl>
<p>This method id invoked by receiving a <a class="el" href="classSymposium_1_1updateDocMessage.html">updateDocMessage</a> with @action <em> action=<a class="el" href="namespaceSymposium.html#ad82e71f528ced5699a51d743a10b07ada682382e8dde6aaff44dd07673f4feb95">msgType::mapChangesToUser</a> </em>. It verifies that <em>actionUser</em> is registered and active and that it is currently working on the document that has the same <em>resourceId</em>. Calls <a class="el" href="classSymposium_1_1document.html#aade31b73fef0e4ba424bee92fd198083">document::retrieveSiteIds</a> to know which users has modified the document, then produce the map with users in <em>registered</em>. Sends to the client a <a class="el" href="classSymposium_1_1mapMessage.html">mapMessage</a> </p>

</div>
</div>
<a id="a364c8b17c58868129a16d48ba72e6d7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a364c8b17c58868129a16d48ba72e6d7e">&#9670;&nbsp;</a></span>openNewSource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classSymposium_1_1file.html">file</a> &gt; SymServer::openNewSource </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>opener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>absolutePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>destPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>destName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceSymposium.html#a2cc267e74e59c3af09626e7106eaafdc">privilege</a>&#160;</td>
          <td class="paramname"><em>reqPriv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>access a user's document via uri to the filesystem of the another user </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opener</td><td>the user who made the request </td></tr>
    <tr><td class="paramname">absolutePath</td><td>the absolute path of the requested document </td></tr>
    <tr><td class="paramname">destPath</td><td>the path where to put the <a class="el" href="classSymposium_1_1symlink.html">symlink</a> to <em>name</em>, inside <em>opener</em> 's home directory </td></tr>
    <tr><td class="paramname">destName</td><td>the name to assign to the symlink </td></tr>
    <tr><td class="paramname">reqPriv</td><td>the privilege requested opening the document </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the document just retrieved </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1SymServerException.html" title="models an exception occurred in the context of SymServer class @exceptsafe no-throw">SymServerException</a></td><td>thrown if the user opener is not logged in </td></tr>
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1filesystemException.html">filesystemException</a></td><td>rethrown if there are problems regarding the asked resource</td></tr>
  </table>
  </dd>
</dl>
<p>When a client asks for a document for which the user has no privilege with <a class="el" href="classSymposium_1_1askResMessage.html">askResMessage</a>, the server checks that the file in <em>resourceId</em> is available and then that the file is shareable. Under these conditions, the server adds the <em>opener</em> to the subset of users who have some privilege, adds a <a class="el" href="classSymposium_1_1symlink.html">symlink</a> to the file in <em>destPath</em> named <em>destName</em> and send the document inside a <a class="el" href="classSymposium_1_1sendResMessage.html">sendResMessage</a> If the operation succeed, the server sends a <a class="el" href="classSymposium_1_1updateActiveMessage.html">updateActiveMessage</a> to the clients working on the document and send back to the client a <a class="el" href="classSymposium_1_1sendResMessage.html">sendResMessage</a> with the symlink just created </p>

</div>
</div>
<a id="accee87b0e8b8e2bb85e1182df1270332"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accee87b0e8b8e2bb85e1182df1270332">&#9670;&nbsp;</a></span>openSource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classSymposium_1_1file.html">file</a> &gt; SymServer::openSource </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>opener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceSymposium.html#a2cc267e74e59c3af09626e7106eaafdc">privilege</a>&#160;</td>
          <td class="paramname"><em>reqPriv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>access a document that is already in the user's filesystem </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opener</td><td>the user who wants to access the document </td></tr>
    <tr><td class="paramname">resPath</td><td>the path of the file, relative to user's home directory </td></tr>
    <tr><td class="paramname">resId</td><td>the file's id </td></tr>
    <tr><td class="paramname">reqPriv</td><td>the privilege requested opening the document </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the document just retrieved </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1SymServerException.html" title="models an exception occurred in the context of SymServer class @exceptsafe no-throw">SymServerException</a></td><td>thrown if the user opener is not logged in </td></tr>
    <tr><td class="paramname"><a class="el" href="classSymposium_1_1filesystemException.html">filesystemException</a></td><td>rethrown if there are problems regarding the asked resource</td></tr>
  </table>
  </dd>
</dl>
<p>When a client asks for a document, the server checks that the file named <em>name</em> in <em>path</em> is available and then that <em>opener</em> has a privilege less or equal to <em>reqPriv</em> on it. If these requirements are met, then the server sends the document inside a <a class="el" href="classSymposium_1_1sendResMessage.html">sendResMessage</a> If the operation succeed, the server sends a <a class="el" href="classSymposium_1_1updateActiveMessage.html">updateActiveMessage</a> to the clients working on the document </p>

</div>
</div>
<a id="a4df2b24419bf4bbad144b02ebeabed54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df2b24419bf4bbad144b02ebeabed54">&#9670;&nbsp;</a></span>registerUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSymposium_1_1user.html">user</a> &amp; SymServer::registerUser </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td>
          <td class="paramname"><em>toInsert</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>insert a new user in the table of registered users </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">toInsert</td><td>the user to be inserted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reference to the inserted user </dd></dl>

</div>
</div>
<a id="af14d51c05b5c40c812843a606e4b136e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af14d51c05b5c40c812843a606e4b136e">&#9670;&nbsp;</a></span>remoteInsert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::remoteInsert </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>inserter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>docId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1symbolMessage.html">symbolMessage</a> &amp;&#160;</td>
          <td class="paramname"><em>symMsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>update a document with a new symbol from a client </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inserter</td><td>the user who is working on the document </td></tr>
    <tr><td class="paramname">docId</td><td>the id of the document inside <em>workingDoc</em> </td></tr>
    <tr><td class="paramname">symMsg</td><td>message received containing the symbol to insert</td></tr>
  </table>
  </dd>
</dl>
<p>When a user client side inserts a new symbol, the client sends to the server a <a class="el" href="classSymposium_1_1symbolMessage.html">symbolMessage</a> containing the symbol, the <em>resourceId</em> and the <em>siteId</em>. The server validates the message checking that <em>inserter</em> is a valid user and that is a user currently working on the document indicated by <em>resourceId</em>, then update its own copy of the document and propagate the update to the other clients putting the message in <em>workingQueue</em> </p>

</div>
</div>
<a id="ac587c6e89304f3700fe5a4e50112ee2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac587c6e89304f3700fe5a4e50112ee2a">&#9670;&nbsp;</a></span>remoteRemove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::remoteRemove </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>remover</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>docId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1symbolMessage.html">symbolMessage</a> &amp;&#160;</td>
          <td class="paramname"><em>rmMsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>update a document removing a symbol </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remover</td><td>the user who is working on the document </td></tr>
    <tr><td class="paramname">docId</td><td>the id of the document inside <em>workingDoc</em> </td></tr>
    <tr><td class="paramname">rmMsg</td><td>message received containing the symbol to remove</td></tr>
  </table>
  </dd>
</dl>
<p>When a user client side removes a symbol, the client sends to the server a <a class="el" href="classSymposium_1_1symbolMessage.html">symbolMessage</a> containing the symbol, the <em>resourceId</em> and the <em>siteId</em>. The server validates the message checking that <em>remover</em> is a valid user and that is a user currently working on the document indicated by <em>resourceId</em>, then update its own copy of the document and propagate the update to the other clients putting the message in <em>workingQueue</em> </p>

</div>
</div>
<a id="ad8455631e8df430d99f42cf0a3af602b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8455631e8df430d99f42cf0a3af602b">&#9670;&nbsp;</a></span>removeResource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classSymposium_1_1filesystem.html">filesystem</a> &gt; SymServer::removeResource </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>remover</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>removes a resource from <em>remover</em> 's <em>home</em> directory </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remover</td><td>the user who is asking to remove its resource </td></tr>
    <tr><td class="paramname">resPath</td><td>the relative path to the <em>remover</em> 's <em>home</em> directory where to create the file </td></tr>
    <tr><td class="paramname">resId</td><td>the resource's id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the resource just removed</dd></dl>
<p>When a user client side wants remove a resource, it sends a <a class="el" href="classSymposium_1_1askResMessage.html">askResMessage</a> and waits for an answer from the server. The server checks that <em>actionUser</em> is in <em>registered</em> and in <em>active</em>, then calls <a class="el" href="classSymposium_1_1user.html#a9fe59e410711c9ab828b6d58f9c0f0ae">user::renameResource</a> on <em>remover</em>. </p>

</div>
</div>
<a id="ab7d64a81c331e6a0541aa4de4f96f42b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7d64a81c331e6a0541aa4de4f96f42b">&#9670;&nbsp;</a></span>removeUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::removeUser </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>pwd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>removes an user to the set of users registered to the system </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>the name of the user to remove </td></tr>
    <tr><td class="paramname">pwd</td><td>the user's password </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the user just removed </dd></dl>

</div>
</div>
<a id="a30ca7c106d98996c3be09dd8055734da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30ca7c106d98996c3be09dd8055734da">&#9670;&nbsp;</a></span>renameResource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classSymposium_1_1filesystem.html">filesystem</a> &gt; SymServer::renameResource </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>renamer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>newName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>renames a resource from <em>remover</em> 's <em>home</em> directory </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">renamer</td><td>the user who is asking to rename its resource </td></tr>
    <tr><td class="paramname">resPath</td><td>the relative path to the <em>renamer</em> 's <em>home</em> directory where to find the resource </td></tr>
    <tr><td class="paramname">resId</td><td>the resource's id </td></tr>
    <tr><td class="paramname">newName</td><td>the new resource's name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the resource just renamed</dd></dl>
<p>When a user client side wants to set a new name for a resource, it sends a <a class="el" href="classSymposium_1_1askResMessage.html">askResMessage</a> and waits for an answer from the server. The server checks that <em>actionUser</em> is in <em>registered</em> and in <em>active</em>, then calls <a class="el" href="classSymposium_1_1user.html#a9fe59e410711c9ab828b6d58f9c0f0ae">user::renameResource</a> on <em>renamer</em>. Please note that, in case the filesystem object is a symlink, this method renames the symlink, not the resource pointed. Sends back a serveMessage, to indicate whether the action succeeded or not. </p>

</div>
</div>
<a id="a205c68735a4d1bf2fc4226dab20747cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a205c68735a4d1bf2fc4226dab20747cc">&#9670;&nbsp;</a></span>resIdOfDocOfUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::forward_list&lt; uint_positive_cnt::type &gt; SymServer::resIdOfDocOfUser </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>username</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>extract the resIds of the documents associated with the user names <em>username</em> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>the name of the user for which the mapping is needed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a list of resIds </dd></dl>

</div>
</div>
<a id="ab9cb7728f4c9ecf379e83b9e0ced8973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9cb7728f4c9ecf379e83b9e0ced8973">&#9670;&nbsp;</a></span>shareResource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classSymposium_1_1filesystem.html">filesystem</a> &gt; SymServer::shareResource </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>actionUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1uri.html">uri</a> &amp;&#160;</td>
          <td class="paramname"><em>newPrefs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>respMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set new sharing preferences for a resource </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actionUser</td><td>the user who made the request </td></tr>
    <tr><td class="paramname">resPath</td><td>the relative path to the <em>actionUser</em> 's <em>home</em> directory </td></tr>
    <tr><td class="paramname">resId</td><td>the id of the resource </td></tr>
    <tr><td class="paramname">newPrefs</td><td>new sharing preferences for the resource </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the old <em>sharingPolicy</em> </dd></dl>
<p>When a user client side wants to set a new sharing policy for a resource, it sends a <a class="el" href="classSymposium_1_1uriMessage.html">uriMessage</a> and waits for an answer from the server. The server checks that <em>actionUser</em> is in <em>registered</em> and in <em>active</em>, then calls <a class="el" href="classSymposium_1_1user.html#a32967c2ee558947a1a43ed5b870ef42f">user::shareResource</a> on <em>actionUser</em> At the end send a <a class="el" href="classSymposium_1_1serverMessage.html">serverMessage</a> with the action outcome </p>

</div>
</div>
<a id="a22eb00daeeef6739434357d121b30b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22eb00daeeef6739434357d121b30b53">&#9670;&nbsp;</a></span>siteIdOfUserOfDoc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::forward_list&lt; uint_positive_cnt::type &gt; SymServer::siteIdOfUserOfDoc </td>
          <td>(</td>
          <td class="paramtype">const std::forward_list&lt; uint_positive_cnt::type &gt; &amp;&#160;</td>
          <td class="paramname"><em>resIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>siteIdToExclude</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>extract the siteIds of the users that are associated with at least one of resIds in <em>resIds</em> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resIds</td><td>a list of resource ids for which a mapping with the working user's siteId is needed </td></tr>
    <tr><td class="paramname">siteIdToExclude</td><td>a siteId to exclude from the result, tipically the one of the user who asked for this </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a list of siteIds </dd></dl>

</div>
</div>
<a id="ac3c04ffbd3a6c1324df717c4187a0172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3c04ffbd3a6c1324df717c4187a0172">&#9670;&nbsp;</a></span>siteIdsFor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::forward_list&lt; uint_positive_cnt::type &gt; SymServer::siteIdsFor </td>
          <td>(</td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>siteIdToExclude</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>extract the siteIds associated to the given <em>resId</em>, excluding <em>siteIdToExclude</em> from the result </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resId</td><td>the resource id of the resource we want the siteIds associated with </td></tr>
    <tr><td class="paramname">siteIdToExclude</td><td>a siteId to exclude from the result, tipically the one of the user who asked for this </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a list of siteIds </dd></dl>

</div>
</div>
<a id="a6dd5eb79004646b13e68240c28f00354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dd5eb79004646b13e68240c28f00354">&#9670;&nbsp;</a></span>updateCursorPos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SymServer::updateCursorPos </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>targetUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>docId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1cursorMessage.html">cursorMessage</a> &amp;&#160;</td>
          <td class="paramname"><em>crMsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>update the current position of user's cursor inside one of the documents he's working on </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetUser</td><td>the user whose cursor position has changed </td></tr>
    <tr><td class="paramname">docId</td><td>the id of the document in which the user's cursor has been moved </td></tr>
    <tr><td class="paramname">crMsg</td><td>the message received by the client </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ae80940927255062e697ab2dc0c34e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ae80940927255062e697ab2dc0c34e1">&#9670;&nbsp;</a></span>userIsValid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SymServer::userIsValid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSymposium_1_1user.html">user</a> &amp;&#160;</td>
          <td class="paramname"><em>toCheck</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>checks that part of user's data that matters for the server </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">toCheck</td><td>the user object whose parameters has to be checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if username and nickname are not empty and if icon path is a valid path </dd></dl>

</div>
</div>
<a id="a572b0c5b9063fbf88a5d392b8a3419f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a572b0c5b9063fbf88a5d392b8a3419f4">&#9670;&nbsp;</a></span>userIsWorkingOnDocument()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; bool, <a class="el" href="classSymposium_1_1document.html">document</a> * &gt; SymServer::userIsWorkingOnDocument </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_positive_cnt::type&#160;</td>
          <td class="paramname"><em>resourceId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>searches in the <em>workingDoc</em> map for the document that has the given <em>resourceId</em> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>the username of the user whose working state on a document is to be checked </td></tr>
    <tr><td class="paramname">resourceId</td><td>the id of the resource we want to know if the user is working on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pair that containt {false, nulltpr} if the user is not working on the resource that has the given <em>resourceId</em>, or {true, pointer to document} if the user is working on the resource </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a757e0d825c66a6149996e3de65711419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a757e0d825c66a6149996e3de65711419">&#9670;&nbsp;</a></span>active</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, const <a class="el" href="classSymposium_1_1user.html">user</a> *&gt; Symposium::SymServer::active</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>active users, indexed by username </p>

</div>
</div>
<a id="ae38647b6c3828fe36835de120a984e33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae38647b6c3828fe36835de120a984e33">&#9670;&nbsp;</a></span>idCounter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpositive__cnt.html">uint_positive_cnt</a> SymServer::idCounter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>siteId to be assigned to the next registered user </p>

</div>
</div>
<a id="aa93ded55e44c32970b5eab155e82659a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa93ded55e44c32970b5eab155e82659a">&#9670;&nbsp;</a></span>registered</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, <a class="el" href="classSymposium_1_1user.html">user</a>&gt; Symposium::SymServer::registered</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>registered users, indexed by username </p>

</div>
</div>
<a id="afc33b7d53a13f26eebed2a50806e1d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc33b7d53a13f26eebed2a50806e1d6c">&#9670;&nbsp;</a></span>resIdToSiteId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint_positive_cnt::type, std::forward_list&lt;uint_positive_cnt::type&gt; &gt; Symposium::SymServer::resIdToSiteId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>list of users involved in a document, by means of <em>siteIds</em> and <em>resIds</em> </p>

</div>
</div>
<a id="a67329d7cfaaa9f04ba417f1155d5aedb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67329d7cfaaa9f04ba417f1155d5aedb">&#9670;&nbsp;</a></span>rootDir</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classSymposium_1_1directory.html">directory</a>&gt; Symposium::SymServer::rootDir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>virtual filesystem of the <a class="el" href="namespaceSymposium.html" title="Contains the forward declaration of classes used in the original Symposium software.">Symposium</a> server </p>

</div>
</div>
<a id="ae90895ed8a86be8e9732c14b142db014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae90895ed8a86be8e9732c14b142db014">&#9670;&nbsp;</a></span>siteIdToMex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint_positive_cnt::type, std::queue&lt;std::shared_ptr&lt;<a class="el" href="classSymposium_1_1serverMessage.html">serverMessage</a>&gt; &gt; &gt; Symposium::SymServer::siteIdToMex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>messages queues associated with every user by means of <em>siteId</em> </p>

</div>
</div>
<a id="a0b9f5837c3d32b15133f9db58f1bf3f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9f5837c3d32b15133f9db58f1bf3f3">&#9670;&nbsp;</a></span>storeData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Symposium::SymServer::storeData</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>flags to indicate whether the server data is to be stored and loaded </p>

</div>
</div>
<a id="a0c920449bdeb3ae827e29ed15fbf1abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c920449bdeb3ae827e29ed15fbf1abe">&#9670;&nbsp;</a></span>storeFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr char Symposium::SymServer::storeFile[] =&quot;./serverData.dat&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>path of the file the server data is stored onto and loaded from </p>

</div>
</div>
<a id="a09e6e01b76b28a314ef4bb33d84c3a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09e6e01b76b28a314ef4bb33d84c3a83">&#9670;&nbsp;</a></span>workingDoc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, std::forward_list&lt;<a class="el" href="classSymposium_1_1document.html">document</a> *&gt; &gt; Symposium::SymServer::workingDoc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>list of document each user is working on </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SymServer_8h_source.html">SymServer.h</a></li>
<li>SymServer.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
